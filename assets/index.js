(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const L of o.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&i(L)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();console.log("Website loaded");let c=document.querySelector(".images-list"),m=c.querySelectorAll("li.image"),I=document.querySelector("#prev-button"),A=document.querySelector("#next-button"),k=document.querySelector(".slider"),a=0,E,y=[];m.forEach((e,r)=>{let t=document.createElement("span");t.classList.add("sliding-button"),t._indexer=r,y.push(t),y[0].classList.add("active"),k.append(t)});let B=()=>{a===m.length-1?(c.scrollLeft=0,a=0):(c.scrollLeft+=c.offsetWidth,a++),p()};const v=()=>{clearInterval(E),E=setInterval(B,3e3)};v();let w=document.querySelectorAll(".sliding-button");w.forEach(e=>e.addEventListener("click",r=>{c.scrollLeft=c.offsetWidth*r.target._indexer,a=r.target._indexer,p(),v()}));const p=()=>{y.filter(e=>{e!==y[a]?e.classList.remove("active"):e.classList.add("active")})};I.addEventListener("click",function(){v(),c.scrollLeft==0?(c.scrollLeft=9999,a=m.length-1):(c.scrollLeft-=c.offsetWidth,a--),p()});A.addEventListener("click",function(){v(),a===m.length-1?(c.scrollLeft=0,a=0):(c.scrollLeft+=c.offsetWidth,a++),p()});let u=document.querySelector(".overlay");document.querySelector(".centered-overlay-content");let f=u.querySelector("img.viewimg");const x=document.querySelector("button.previous"),O=document.querySelector("button.next"),q=document.querySelector(".gallery");let d=q.querySelector(".gallery-items");const C=q.querySelector("section.gallery-container");document.querySelectorAll(".gallery-item-li");const g=[...document.querySelectorAll("img.gallery-item")];let s=g,n=null,h=[],S=new Set;function b(e){n=e,u.classList.add("displayed"),document.querySelector("body").style.overflowY="hidden",f.src=s[e].src}const H=(e=null)=>{for(;d.firstChild;)d.firstChild.remove();s=null,e===null?s=g:s=g.filter(r=>r.getAttribute("data-category")===e),s.forEach(r=>{d.append(r)}),d.querySelectorAll(".gallery-item").forEach((r,t)=>{const i=()=>b(t);r.addEventListener("click",i),r._clickImageHandler=i})},_=()=>{g.forEach(t=>S.add(t.getAttribute("data-category")));let e=document.createElement("nav");e.classList.add("gallery-filter");let r=document.createElement("button");r.classList.add("filter-interact","active"),r.innerText="Tous",e.prepend(r),S.forEach(t=>{let i=document.createElement("button");i.classList.add("filter-interact"),i.innerText=t,i.value=t,i.setAttribute("data-category",t),e.append(i)}),C.prepend(e),h=e.querySelectorAll("button.filter-interact")};_();h.forEach(e=>{e.addEventListener("click",r=>{e.classList.contains("active")||(console.log("Filter apply"),d.querySelectorAll(".gallery-item").forEach(t=>{t.removeEventListener("click",t==null?void 0:t._clickImageHandler)}),[...h].filter(t=>{t.classList.contains("active")&&t!==r.target&&t.classList.remove("active")}),e.classList.contains("active")||e.classList.add("active"),H(e.getAttribute("data-category")))})});d.querySelectorAll("li.gallery-item-li").forEach((e,r)=>{const t=()=>b(r);e.addEventListener("click",t),e._clickImageHandler=t});u.addEventListener("click",e=>{e.target.classList.contains("overlay")&&(u.classList.remove("displayed"),document.querySelector("body").style.overflowY="auto",n=null)});const W=e=>{e===0?(n=s.length-1,f.src=s[n].src):(n=e-1,f.src=s[n].src)},F=e=>{e===s.length-1?(n=0,f.src=s[n].src):(n=e+1,f.src=s[n].src)};x.addEventListener("click",e=>W(n));O.addEventListener("click",e=>F(n));document.addEventListener("keydown",e=>{e.key==="Escape"&&u.classList.contains("displayed")&&(u.classList.remove("displayed"),document.querySelector("body").style.overflowY="auto",n=null)});
